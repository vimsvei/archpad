{
  "name": "infra",
  "private": true,
  "scripts": {
    "dev:infra": "docker compose --project-name archpad --env-file ../.env up -d",
    "dev:app": "docker compose --project-name archpad --env-file ../.env --profile app up -d",
    "dev:backend": "docker compose --project-name archpad --env-file ../.env --profile backend up -d",
    "dev:mon": "docker compose --project-name archpad --env-file ../.env --profile monitoring up -d",
    "dev:all": "docker compose --project-name archpad --env-file ../.env --profile app --profile monitoring up -d",
    "dev:up": "docker compose --project-name archpad --env-file ../.env up -d",
    "dev:up:base": "docker compose --project-name archpad --env-file ../.env -f docker-compose.yml up -d",
    "dev:down": "docker compose --project-name archpad --env-file ../.env down",
    "logs": "docker compose --project-name archpad --env-file ../.env logs -f --tail=200",
    "stop:app": "docker compose --project-name archpad --env-file ../.env stop portal strapi",
    "keycloak:sync": "docker compose --project-name archpad --env-file ../.env up -d keycloak-sync",
    "reset:db": "docker compose --project-name archpad --env-file ../.env down && docker volume rm archpad_pgdata || true && docker compose --project-name archpad --env-file ../.env up -d",
    "reset:all": "docker compose --project-name archpad --env-file ../.env down -v && docker compose --project-name archpad --env-file ../.env up -d",
    "hasura:metadata": "docker compose --project-name archpad --env-file ../.env up -d hasura-metadata",
    "hasura:sync": "bash ./hasura/scripts/track_all.sh",
    "hasura:sync:after": "bash ./hasura/scripts/sync_after_archrepo.sh",
    "hasura:sync:host": "HASURA_ENDPOINT=${HASURA_HOST} bash ./hasura/scripts/track_all.sh",
    "hasura:sync:after:host": "HASURA_ENDPOINT=${HASURA_HOST} ARCH_REPO_HEALTH_URL=${ARCH_REPO_HOST}/healthz bash ./hasura/scripts/sync_after_archrepo.sh",
    "curl:check": " curl -i ${HASURA_HOST}/healthz"
  }
}
