{
  "name": "infra",
  "private": true,
  "scripts": {
    "dev:infra": "docker compose --project-name archpad --env-file ../.env up -d",
    "dev:backend": "docker compose --project-name archpad --env-file ../.env --profile backend up -d",

    "dev:app:build": "docker compose --project-name archpad --env-file ../.env --profile app build portal",
    "dev:app": "docker compose --project-name archpad --env-file ../.env --profile app up -d portal",
    "dev:app:deps": "docker compose --project-name archpad --env-file ../.env --profile app exec portal sh -lc \"pnpm install --frozen-lockfile --filter @archpad/portal...\"",

    "dev:obs": "docker compose --project-name archpad --env-file ../.env --profile observability up -d",
    "dev:mon": "pnpm -s dev:obs",
    "dev:all": "docker compose --project-name archpad --env-file ../.env --profile backend --profile app --profile observability up -d",

    "dev:up": "pnpm -s dev:infra",
    "dev:up:base": "pnpm -s dev:infra",
    "dev:down": "docker compose --project-name archpad --env-file ../.env down",
    "logs": "docker compose --project-name archpad --env-file ../.env logs -f --tail=200",
    "stop:app": "docker compose --project-name archpad --env-file ../.env stop portal",
    "reset:db": "docker compose --project-name archpad --env-file ../.env down && docker volume rm archpad_pgdata || true && docker compose --project-name archpad --env-file ../.env up -d",
    "reset:all": "docker compose --project-name archpad --env-file ../.env down -v && docker compose --project-name archpad --env-file ../.env up -d"
  },
  "packageManager": "pnpm@10.20.0+sha512.cf9998222162dd85864d0a8102e7892e7ba4ceadebbf5a31f9c2fce48dfce317a9c53b9f6464d1ef9042cba2e02ae02a9f7c143a2b438cd93c91840f0192b9dd"
}
