# ConfigMap с servers.json для pgAdmin
# ВАЖНО: Настройки серверов теперь генерируются автоматически из Vault при запуске
# и сохраняются в PersistentVolume (/var/lib/pgadmin/storage/pgadmin4.db)
# Этот ConfigMap оставлен для справки, но не используется в deployment
apiVersion: v1
kind: ConfigMap
metadata:
  name: pgadmin-servers
  namespace: pgadmin
  annotations:
    argocd.argoproj.io/sync-wave: "20"
data:
  servers.json: |
    {
      "Servers": {
        "1": {
          "Name": "PostgreSQL Cluster (Demo)",
          "Group": "Servers",
          "Host": "192.168.0.4",
          "Port": 5432,
          "MaintenanceDB": "postgres",
          "Username": "postgres",
          "SSLMode": "prefer",
          "Comment": "Demo PostgreSQL Cluster - настройки загружаются из Vault"
        }
      }
    }
