# Шаблон Secret для SSH ключа для доступа к Git репозиторию
# 
# ИНСТРУКЦИЯ:
# 1. Создайте SSH ключ для ArgoCD Image Updater (если еще не создан):
#    ssh-keygen -t ed25519 -C "argocd-image-updater@archpad.pro" -f argocd-image-updater-key
# 
# 2. Добавьте публичный ключ (argocd-image-updater-key.pub) в GitLab:
#    - Settings → SSH Keys → Add SSH Key
# 
# 3. Скопируйте этот файл в argocd-image-updater-git-secret.yaml
# 
# 4. Замените <BASE64_ENCODED_PRIVATE_KEY> на base64 encoded приватный ключ:
#    cat argocd-image-updater-key | base64 -w 0
# 
# 5. Примените манифест: kubectl apply -f argocd-image-updater-git-secret.yaml
#
# ИЛИ создайте Secret вручную:
# kubectl create secret generic argocd-image-updater-git-ssh-key \
#   --from-file=ssh-privatekey=<path-to-private-key> \
#   --namespace=argocd

apiVersion: v1
kind: Secret
metadata:
  name: argocd-image-updater-git-ssh-key
  namespace: argocd
  labels:
    app.kubernetes.io/name: argocd-image-updater
    app.kubernetes.io/part-of: argocd
  annotations:
    argocd.argoproj.io/sync-wave: "5"
type: Opaque
data:
  # Замените на base64 encoded приватный SSH ключ
  # Для создания используйте: cat <private-key-file> | base64 -w 0
  ssh-privatekey: <BASE64_ENCODED_PRIVATE_KEY>
