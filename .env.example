# ----- Compose project -----
COMPOSE_PROJECT_NAME=archpad

# ----- Hosts (Traefik routes) -----
APP_HOST=app.localhost
HASURA_HOST=api.localhost
STRAPI_HOST=cms.localhost
AUTH_HOST=auth.localhost
TRAEFIK_DASHBOARD_HOST=proxy.localhost
MAILHOG_HOST=mail.localhost
MINIO_HOST=storage.localhost
PROMETHEUS_HOST=prometheus.localhost
GRAFANA_HOST=grafana.localhost

# ----- Postgres superuser -----
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
# ----- Optional: expose Postgres to localhost via override -----
# Example 127.0.0.1:5433 → container 5432
# PG_PORT=127.0.0.1:5433

# ----- DB ownership strategy -----
# app_owner        -> each app user OWNS its DB (simpler for dev, default)
# postgres_owner   -> postgres owns DBs; app users get GRANTs (stricter perms)
DB_OWNERSHIP_MODE=app_owner

# ----- App DBs & users -----
HASURA_DB=hasura_db
HASURA_DB_USER=hasura
HASURA_DB_PASS=hasura_pass

STRAPI_DB=strapi_db
STRAPI_DB_USER=strapi
STRAPI_DB_PASS=strapi_pass

KEYCLOAK_DB=keycloak_db
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASS=keycloak_pass

# ----- Hasura / OIDC -----
HASURA_ADMIN_SECRET=hasura_admin_secret
KEYCLOAK_REALM=app-realm
KEYCLOAK_AUDIENCE=next-frontend

# ----- Keycloak admin -----
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# ----- NextAuth (Next.js) -----
NEXTAUTH_URL=http://app.localhost
NEXTAUTH_SECRET=dev_nextauth_secret

# ----- MinIO (Strapi uploads) -----
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio12345
MINIO_BUCKET=strapi-uploads
# (optional if you enable metrics in compose)
# MINIO_PROMETHEUS_AUTH_TYPE=public

# ----- Strapi secrets -----
STRAPI_APP_KEYS=key1,key2,key3
STRAPI_ADMIN_JWT_SECRET=changeme_admin_jwt
STRAPI_JWT_SECRET=changeme_jwt
STRAPI_API_TOKEN_SALT=changeme_salt

# ----- Strapi upload provider (S3 → MinIO) -----
STRAPI_UPLOAD_PROVIDER=aws-s3
STRAPI_S3_ENDPOINT=http://minio:9000
STRAPI_S3_REGION=us-east-1
STRAPI_S3_FORCE_PATH_STYLE=true

# ----- Monitoring (Grafana) -----
GRAFANA_ADMIN_PASSWORD=grafana
